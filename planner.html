<!DOCTYPE html>
<html lang="ko"dir="ltr" class="planner-app">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">

  <!--SEO-->
  <meta name="Author" content="#Tiger & Rabbit Company #Tiny Tiger Application Teams #LeeCoder">
  <meta name="robots" content="noidex, nofollow">
  <meta name="googlebot" content="noindex"/>
  <meta name="description" content="Simply planner application">
  <meta name="format-detection" content="telephone=no"> <!-- 아이폰 number 버그 개선 -->
  <link rel="image_src" href="./lib/images/planner/seo/logo.png" />
  <link rel="icon" href="./lib/images/planner/seo/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon-precomposed" href="./lib/images/planner/seo/logo.png" />
  <title>Infinite planner</title>

  <!--스크립트 CDN 및 플러그인-->
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js"></script>


  <!--스타일시트-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;400&family=Nanum+Gothic:wght@400&family=Tangerine:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="./lib/css/planner.css" />
  <script>
    function getTime(data) {
      var now = new Date();
      var hours = ("0" + (now.getHours())).slice(-2);//시
      var minutes = ("0" + (now.getMinutes())).slice(-2);//분
      var seconds = ("0" + (now.getSeconds())).slice(-2);//초
      var milliseconds = now.getMilliseconds(); //밀리초
      var localeDate = now.toLocaleDateString(); //yyyy.m.d
      var localeTime = now.toLocaleTimeString(); //오전+시간+분+초
      var month = now.getMonth();//월
      var day = now.getDay();//일
      switch(month) {
        case 0: month = "Jan"; break;
        case 1: month = "Feb"; break;
        case 2: month = "Mar"; break;
        case 3: month = "Apr"; break;
        case 4: month = "May"; break;
        case 5: month = "Jun"; break;
        case 6: month = "Jul"; break;
        case 7: month = "Aug"; break;
        case 8: month = "Sep"; break;
        case 9: month = "Oct"; break;
        case 10: month = "Nov"; break;
        case 11: month = "Dec"; break;
      }
      switch(day) {
        case 0: day = "일"; break;
        case 1: day = "월"; break;
        case 2: day = "화"; break;
        case 3: day = "수"; break;
        case 4: day = "목"; break;
        case 5: day = "금"; break;
        case 6: day = "토"; break;
        case 7: day = "일"; break;
      }
      var date = now.getDate();//일
      var day = now.getDay();//요일
      if (data == "hm") return hours + ':' + minutes;
      else if (data == "hms") return hours + ':' + minutes + ':' + seconds;
      else if (data == "hmsm") return hours + ':' + minutes + ':' + seconds + ':' + milliseconds;
      else if (data == "time") return localeTime;//ex. 오전 11:27:17
      else if (data == "date") return localeDate;//ex. 2021. 2. 5.
      else if (data == "md") return month+'. '+date;//ex. Jan.1
      else if (data == "mm") return month;//ex. Jan.1
      else if (data == "dd") return date;//ex. Jan.1
      else if (data == "d") return day;//ex. 월,화,수,목,금,토,일
    }
  </script>
</head>
<body class="page-planner">
  <!--[if lt IE 9]><div class="legacy-browser">
  <div class="legacy-pad"><p>현재 사용중인 브라우저는 지원이 중단된 브라우저입니다.<br> 원활한 온라인 서비스를 위해 브라우저를 <a href="http://windows.microsoft.com/ko-kr/internet-explorer/ie-11-worldwide-languages" target="_blank">최신 버전</a>으로 업데이트 해주시길 바랍니다.  </p></div>
  </div><![endif]-->
  <main class="ly-wrap">
    <!-- 헤더 -->
    <header class="ly-header">
      <h1 class="tit"><img src="./lib/images/planner/seo/logo.svg" alt="" class="logo">Infinite Planner</h1>
    </header>
    <!-- 컨텐츠// -->
    <section class="ly-content">
      <!-- 날짜 선택하기// -->
      <div class="date">
        <!-- 월 선택 -->
        <div class="month"><span class="value">Jan</span><input type="text" class="select-month" id="select-month"></div>
        <!-- 일 선택 -->
        <div class="day">
          <ul class="scroll" style="width: calc(50px * 31 + 20px);"><!-- 50px * dd 개수 -->
            <li data-date="1"><a href="javascript:void(0);" draggable="false" class="btn-day">1</a></li><!-- 활성화(li.selected)-->
            <li data-date="2"><a href="javascript:void(0);" draggable="false" class="btn-day">2</a></li>
            <li data-date="3"><a href="javascript:void(0);" draggable="false" class="btn-day">3</a></li>
            <li data-date="4"><a href="javascript:void(0);" draggable="false" class="btn-day">4</a></li>
            <li data-date="5"><a href="javascript:void(0);" draggable="false" class="btn-day">5</a></li>
            <li data-date="6"><a href="javascript:void(0);" draggable="false" class="btn-day">6</a></li>
            <li data-date="7"><a href="javascript:void(0);" draggable="false" class="btn-day">7</a></li>
            <li data-date="8"><a href="javascript:void(0);" draggable="false" class="btn-day">8</a></li>
            <li data-date="9"><a href="javascript:void(0);" draggable="false" class="btn-day">9</a></li>
            <li data-date="10"><a href="javascript:void(0);" draggable="false" class="btn-day">10</a></li>
            <li data-date="11"><a href="javascript:void(0);" draggable="false" class="btn-day">11</a></li>
            <li data-date="12"><a href="javascript:void(0);" draggable="false" class="btn-day">12</a></li>
            <li data-date="13"><a href="javascript:void(0);" draggable="false" class="btn-day">13</a></li>
            <li data-date="14"><a href="javascript:void(0);" draggable="false" class="btn-day">14</a></li>
            <li data-date="15"><a href="javascript:void(0);" draggable="false" class="btn-day">15</a></li>
            <li data-date="16"><a href="javascript:void(0);" draggable="false" class="btn-day">16</a></li>
            <li data-date="17"><a href="javascript:void(0);" draggable="false" class="btn-day">17</a></li>
            <li data-date="18"><a href="javascript:void(0);" draggable="false" class="btn-day">18</a></li>
            <li data-date="19"><a href="javascript:void(0);" draggable="false" class="btn-day">19</a></li>
            <li data-date="20"><a href="javascript:void(0);" draggable="false" class="btn-day">20</a></li>
            <li data-date="21"><a href="javascript:void(0);" draggable="false" class="btn-day">21</a></li>
            <li data-date="22"><a href="javascript:void(0);" draggable="false" class="btn-day">22</a></li>
            <li data-date="23"><a href="javascript:void(0);" draggable="false" class="btn-day">23</a></li>
            <li data-date="24"><a href="javascript:void(0);" draggable="false" class="btn-day">24</a></li>
            <li data-date="25"><a href="javascript:void(0);" draggable="false" class="btn-day">25</a></li>
            <li data-date="26"><a href="javascript:void(0);" draggable="false" class="btn-day">26</a></li>
            <li data-date="27"><a href="javascript:void(0);" draggable="false" class="btn-day">27</a></li>
            <li data-date="28"><a href="javascript:void(0);" draggable="false" class="btn-day">28</a></li>
            <li data-date="29"><a href="javascript:void(0);" draggable="false" class="btn-day">29</a></li>
            <li data-date="30"><a href="javascript:void(0);" draggable="false" class="btn-day">30</a></li>
            <li data-date="31"><a href="javascript:void(0);" draggable="false" class="btn-day">31</a></li>
          </ul>
        </div>
      </div>
      <!-- //날짜 선택하기 -->
      <!-- 다이어리// -->
      <div class="diary">
        <article class="article day-1">
          <header class="header">
            <span class="when">Day-1</span>
            <a href="javascript:void(0);" target="_self" draggable="false" class="btn-edit" data-date="day-1">edit</a>
          </header>
          <div class="cont">
            <h2 class="tit"></h2>
            <p class="desc">19'<br>Who am I?<br>Another day another destny...<br><br>20'<br>What do you want to know?<br>I am goning to talk about my life!<br><br>21'<br>New year is here!<br>Happy new year!</p>
          </div>
        </article>
        <article class="article day-2">
          <header class="header">
            <span class="when">Day-2</span>
            <a href="javascript:void(0);" target="_self" draggable="false" class="btn-edit" data-date="day-2">edit</a>
          </header>
          <div class="cont">
            <h2 class="tit"></h2>
            <p class="desc">20'<br>What do you want to know?<br>I am goning to talk about my life!<br><br>21'<br>New year is here!<br>Happy new year!</p>
          </div>
        </article>
        <article class="article day-3">
          <header class="header">
            <span class="when">Day-3</span>
            <a href="javascript:void(0);" target="_self" draggable="false" class="btn-edit" data-date="day-3">edit</a>
          </header>
          <div class="cont">
            <h2 class="tit"></h2>
            <p class="desc">20'<br>What do you want to know?<br>I am goning to talk about my life!<br><br>21'<br>New year is here!<br>Happy new year!</p>
          </div>
        </article>
        <article class="article day-4">
          <header class="header">
            <span class="when">Day-4</span>
            <a href="javascript:void(0);" target="_self" draggable="false" class="btn-edit" data-date="day-4">edit</a>
          </header>
          <div class="cont">
            <h2 class="tit"></h2>
            <p class="desc">20'<br>What do you want to know?<br>I am goning to talk about my life!<br><br>21'<br>New year is here!<br>Happy new year!</p>
          </div>
        </article>
        <article class="article day-5">
          <header class="header">
            <span class="when">Day-5</span>
            <a href="javascript:void(0);" target="_self" draggable="false" class="btn-edit" data-date="day-5">edit</a>
          </header>
          <div class="cont">
            <h2 class="tit"></h2>
            <p class="desc">20'<br>What do you want to know?<br>I am goning to talk about my life!<br><br>21'<br>New year is here!<br>Happy new year!</p>
          </div>
        </article>
      </div>
      <!-- //다이어리 -->
    </section>
    <!-- //컨텐츠 -->

    <!-- 팝업: 에디터 -->
    <div class="popup">
      <form action="" class="editor-form">
      <!-- 닫기 -->
      <a href="javascript:void(0);" draggable="false" class="btn-close" title="닫기"><span class="bar1"></span><span class="bar2"></span></a>
      <!-- 타이틀 -->
      <p class="tit">Editor</p>
      <!-- 에디터 -->
      <textarea name="" class="editor" id="editor"></textarea>
      <!-- 전송 버튼 -->
      <a href="javascript:void(0);" draggable="false" class="btn-submit" title="작성">Done</a>
      </form>
    </div>
  </main>

  <script>
    $( function() {
      /*날짜 선택*/
      //월 선택: 데이터 불러오기
      $("#select-month").datepicker({
        showAnim: 'slideDown',
        showOtherMonths: true,
        selectOtherMonths: true
      });
      //일 선택: 해당 컨텐츠로 스크롤 이동
      $('.ly-content .date .btn-day').on('click', function(e) {
        //Reset
        $('.ly-content .date .day .selected').removeClass('selected');

        //Var
        var $this = $(this);
        var $target = $('.day-'+$this.parent('li').attr('data-date'));//다이어리-대상
        var btnOffsetLeft = $this.offset().left - $('.ly-content .date .day li[data-date="1"]').offset().left;

        //Set
        $this.parent('li').addClass('selected');//네비게이션 버튼 활성
        //$('.day').stop().animate({"scrollLeft":btnOffsetLeft});//네비게이션 버튼 스크롤
        if($target.length) {
          var getTargetOffsetTop = ($target.offset().top)-$('.day-1').offset().top;//대상 스크롤값 측정
          $('.diary').stop().animate({"scrollTop":getTargetOffsetTop});//이동
        }
      });

      /* Drag to scroll */
      var drag2scroll = function(target) {
        var ele = target.get(0);
        ele.style.cursor = 'grab';
        var pos = { top: 0, left: 0, x: 0, y: 0 };
        var mouseDownHandler = function(e) {
          ele.style.cursor = 'grabbing';
          ele.style.userSelect = 'none';
          pos = {
              left: ele.scrollLeft,
              top: ele.scrollTop,
              // Get the current mouse position
              x: e.clientX,
              y: e.clientY,
          };

          document.addEventListener('mousemove', mouseMoveHandler);
          document.addEventListener('mouseup', mouseUpHandler);
        };
        var mouseMoveHandler = function(e) {
          // How far the mouse has been moved
          var dx = e.clientX - pos.x;
          var dy = e.clientY - pos.y;
          // Scroll the element
          ele.scrollTop = pos.top - dy;
          ele.scrollLeft = pos.left - dx;
        };
        var mouseUpHandler = function(e) {
          ele.style.cursor = 'grab';
          ele.style.removeProperty('user-select');
          document.removeEventListener('mousemove', mouseMoveHandler);
          document.removeEventListener('mouseup', mouseUpHandler);
        };
        // Attach the handler
        ele.addEventListener('mousedown', mouseDownHandler);
      };
      //일자 선택 스크롤
      drag2scroll($('.ly-content  .date .day'));
      drag2scroll($('.ly-content  .diary'));

      /*최초 데이터 세팅*/
      $('.ly-content .date .month .value').text(getTime('mm'));//월
      $('.ly-content .date .day [data-date='+getTime('dd')+'] .btn-day').trigger('click');//오늘 날짜 클릭
    });
  </script>

  <!-- 팝업: 에디터 -->
  <script>
    //Var
    var $popup = $('.popup');//팝업
    var $popOpen = $('.btn-edit');//팝업 열기 버튼
    var $popClose = $('.popup .btn-close');//팝업 닫기 버튼
    var $popSubmit = $('.popup .btn-submit');//작성 버튼

    //Event
    $popOpen.on('click', function() {//팝업 열기
      //Var
      var $dbName = $popOpen.attr('data-date');

      //DB불러오기

      //Event
      $popup.addClass("is-active");
    });
    $popSubmit.on('click', function() {$('.editor-form').submit();});//수정사항 전송: Ajax로 변경 필요
    $popClose.on('click', function() {//팝업 닫기
      $popup.removeClass("is-active");
    })
  </script>
</body>
</html>
